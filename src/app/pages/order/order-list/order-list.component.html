<!--<div class="row justify-content-center g-4">-->
<!--  <div class="col-md-12 col-lg-12 col-sm-12">-->

<!--  </div>-->
<!--  <div class="col-md-12 col-lg-12 col-sm-12">-->
<!--    <h3 class="title">My Orders</h3>-->
<!--  </div>-->
<!--  <div class="col-md-12 col-lg-12 col-sm-12">-->

<!--    <div class="row g-3" *ngIf="($pageableOrders | async) as orderPageable; else loading;">-->
<!--      <ng-container *ngIf="orderPageable.items.length === 0;else hasOrder">-->
<!--        <div class="col-md-12 col-lg-12 col-sm-12">-->
<!--          <div class="card border-0">-->
<!--            <div class="card-body d-flex flex-column justify-content-center align-items-center">-->
<!--              <div class="pb-3">-->
<!--                &lt;!&ndash;                  <fa-icon [icon]="faMagnifyingGlass" size="9x"></fa-icon>&ndash;&gt;-->
<!--                <img src="./assets/image/out-of-order.png">-->
<!--              </div>-->
<!--              <div class="text-center">-->
<!--                <span class="h3 pb-5">Order Not Found</span>-->
<!--              </div>-->
<!--              <div class="text-center">-->
<!--                <br/><span class="light-gray">Looks like you did not order anything yet.</span>-->
<!--                <br/> <span class="light-gray">Checkout our latest item</span></div>-->
<!--            </div>-->
<!--          </div>-->
<!--        </div>-->
<!--      </ng-container>-->
<!--      <ng-template #hasOrder>-->
<!--        <div class="col-md-12 col-lg-12 col-sm-12">-->
<!--          <tui-pagination class="float-end"-->
<!--                          [index]="orderPageable.current_page"-->
<!--                          [length]="orderPageable.total_elements / orderPageable.size | mathCeil"-->
<!--                          (indexChange)="fetchPage($event)"-->
<!--          ></tui-pagination>-->
<!--        </div>-->
<!--        <div class="col-md-12 col-lg-12 col-sm-12" *ngFor="let order of orderPageable.items;">-->
<!--          <div class="card rounded-0 border-0 shadow-sm">-->
<!--            <div class="card-body p-4">-->
<!--              <div class="d-flex justify-content-between align-items-center flex-wrap">-->
<!--                <div class="d-flex align-items-center gap-5 flex-wrap">-->
<!--                  <div class="d-flex flex-column gap-3">-->
<!--                    <div>-->
<!--                      <span class="lead fw-normal">Order No </span>-->
<!--                      <tui-tag-->
<!--                        class="tag bg-success ms-3"-->
<!--                        [ngClass]="{'UNPAID':'bg-danger','PAID':'bg-success'}[order.payment_status]"-->
<!--                        [hoverable]="true"-->
<!--                        [value]="order.payment_status | removeUnderscore"-->
<!--                      ></tui-tag>-->
<!--                    </div>-->
<!--                    <span class="light-gray">#O000{{order.id}}</span>-->
<!--                  </div>-->
<!--                </div>-->
<!--                <div class="d-flex gap-2 gap-3">-->
<!--                  <div class="d-flex flex-column align-items-center">-->
<!--                    <span class="me-2">Subtotal</span>-->
<!--                    <span>{{order.subtotal | currency : 'MYR '}}</span>-->
<!--                  </div>-->
<!--                  <button *ngIf="order.payment_status === 'PAID'" class="btn btn-primary float-end"-->
<!--                          type="button" [routerLink]="['../','details','000'+order.id]">View order details-->
<!--                  </button>-->
<!--                  <button *ngIf="order.payment_status === 'UNPAID'" class="btn btn-danger float-end"-->
<!--                          type="button">Pay now-->
<!--                  </button>-->
<!--                </div>-->
<!--              </div>-->
<!--            </div>-->
<!--          </div>-->
<!--        </div>-->
<!--      </ng-template>-->
<!--    </div>-->
<!--  </div>-->
<!--</div>-->

<main class="mx-auto max-w-7xl px-4 py-16 sm:px-6 lg:px-8 lg:pb-24">
  <div class="max-w-xl">
    <!--    <app-breadcrumb [items]="breadcrumbItems"></app-breadcrumb>-->
    <h1 class="text-2xl font-bold tracking-tight text-gray-900 sm:text-3xl">Order history</h1>
    <p class="mt-1 text-sm text-gray-500">Check the status of recent orders, manage returns, and download invoices.</p>
  </div>

  <ng-template #loading>
    <app-loading-spinner></app-loading-spinner>
  </ng-template>
  <ng-container *ngIf="$pageableOrders | async as orderPageable;else loading;">
    <ng-container *ngIf="orderPageable.items.length === 0">
      <div class="flex flex-col items-center justify-center pt-32">
        <svg class="h-28 w-28 flex-shrink-0 text-rose-600" fill="none"
             viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round"
                d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"/>
        </svg>
        <p class="text-gray-600 text-lg font-semibold mb-4">No Purchase History</p>
        <p class="text-gray-500 pb-8">Check back after your next shopping trip</p>
        <button
          class="px-6 py-2 bg-rose-500 text-white rounded-md shadow-md hover:bg-rose-600 transition-colors duration-300"
          [routerLink]="['../../product','view']">
          Let's go shopping!
        </button>
      </div>
    </ng-container>
    <section aria-labelledby="recent-heading" class="mt-7" *ngFor="let order of orderPageable.items">
      <h2 id="recent-heading" class="sr-only">Recent orders</h2>

      <div class="space-y-6">
        <div>
          <!--        <h3 class="sr-only">Order placed on <time datetime="2021-01-22">January 22, 2021</time></h3>-->

          <div
            class="rounded-lg bg-gray-50 px-4 py-6 sm:flex sm:items-center sm:justify-between sm:space-x-6 sm:px-6 lg:space-x-8">
            <dl
              class="flex-auto space-y-6 divide-y divide-gray-200 text-sm text-gray-600 sm:grid sm:grid-cols-3 sm:gap-x-6 sm:space-y-0 sm:divide-y-0 lg:w-1/2 lg:flex-none lg:gap-x-8">
              <div class="flex justify-between sm:block">
                <dt class="font-medium text-gray-900">Date placed</dt>
                <dd class="sm:mt-1">
                  <time datetime="2021-01-22">''</time>
                </dd>
              </div>
              <div class="flex justify-between pt-6 sm:block sm:pt-0">
                <dt class="font-medium text-gray-900">Order number</dt>
                <dd class="sm:mt-1">#000{{order.id}}</dd>
              </div>
              <div class="flex justify-between pt-6 font-medium text-gray-900 sm:block sm:pt-0">
                <dt>Total amount</dt>
                <dd class="sm:mt-1">{{order.subtotal | currency : 'MYR '}}</dd>
              </div>
            </dl>
            <a *ngIf="order.payment_status === 'PAID';else notPaid;" href="#"
               class="mt-6 flex w-full items-center justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:mt-0 sm:w-auto"
               [routerLink]="['../','details','000'+order.id]">
              View Details
              <!--            <span class="sr-only">for order WU88191111</span>-->
            </a>
            <ng-template #notPaid>
              <a href="#"
                 class="mt-6 flex w-full items-center justify-center rounded-md border px-4 py-2 text-sm font-medium text-white bg-red-600 shadow-sm hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-offset-2 sm:mt-0 sm:w-auto">
                Pay now
                <!--            <span class="sr-only">for order WU88191111</span>-->
              </a>
            </ng-template>
          </div>

          <table class="mt-4 w-full text-gray-500 sm:mt-6">
            <caption class="sr-only">
              Products
            </caption>
            <thead class="sr-only text-left text-sm text-gray-500 sm:not-sr-only">
            <tr>
              <th scope="col" class="py-3 pr-8 font-normal sm:w-2/5 lg:w-1/3">Product</th>
              <th scope="col" class="hidden w-1/5 py-3 pr-8 font-normal sm:table-cell">Price</th>
              <th scope="col" class="hidden py-3 pr-8 font-normal sm:table-cell">Status</th>
              <th scope="col" class="hidden py-3 pr-8 font-normal sm:table-cell">Quantity</th>
              <th scope="col" class="w-0 py-3 text-right font-normal">Info</th>
            </tr>
            </thead>
            <tbody class="divide-y divide-gray-200 border-b border-gray-200 text-sm sm:border-t">
            <tr *ngFor="let item of order.items">
              <td class="py-6 pr-8">
                <div class="flex items-center">
                  <img src="https://tailwindui.com/img/ecommerce-images/order-history-page-04-product-01.jpg"
                       alt="Black tee with intersecting red, white, and green curved lines on front."
                       class="mr-6 h-16 w-16 rounded object-cover object-center">
                  <div>
                    <div class="font-medium text-gray-900">{{item.name}}</div>
                    <div class="mt-1 sm:hidden">{{item.price | currency : 'MYR'}}</div>
                  </div>
                </div>
              </td>
              <td class="hidden py-6 pr-8 sm:table-cell">{{item.price | currency : 'MYR'}}</td>
              <td class="hidden py-6 pr-8 sm:table-cell">{{order.delivery_status}}</td>
              <td class="hidden py-6 pr-8 sm:table-cell">{{item.quantity}}</td>
              <td class="whitespace-nowrap py-6 text-right font-medium">
                <a [routerLink]="['../../product','details',item.id]" class="text-indigo-600">View<span
                  class="hidden lg:inline"> Product</span><span
                  class="sr-only">{{item.name}}</span></a>
              </td>
            </tr>

            <!-- More products... -->
            </tbody>
          </table>
        </div>

        <!-- More orders... -->
      </div>
    </section>
    <div class="flex flex-col items-center pt-10" *ngIf="orderPageable.items.length > 0">
      <!-- Help text -->
      <span class="text-sm text-gray-700 dark:text-gray-400">
      Showing <span
        class="font-semibold text-gray-900 dark:text-gray-400">{{orderPageable.current_page * pageRequest.page_size}}</span> to <span
        class="font-semibold text-gray-900 dark:text-gray-400">{{orderPageable.size * (orderPageable.current_page + 1)}}</span> of <span
        class="font-semibold text-gray-900 dark:text-gray-400">{{orderPageable.total_elements / pageRequest.page_size | mathCeil}}</span> Entries
  </span>
      <div class="inline-flex mt-2 xs:mt-0">
        <button
          class="flex items-center justify-center px-4 h-10 text-base font-medium text-white bg-rose-600 border-0 border-s border-rose-600 rounded-s hover:bg-rose-600 dark:bg-rose-600 dark:border-rose-600 dark:text-gray-400 dark:hover:bg-rose-600 dark:hover:text-white disabled:bg-gray-200"
          (click)="previousPage()" [disabled]="!orderPageable.has_previous_page">
          Prev
        </button>
        <button
          class="flex items-center justify-center px-4 h-10 text-base font-medium text-white bg-rose-600 border-0 border-s border-rose-600 rounded-e hover:bg-rose-600 dark:bg-rose-600 dark:border-rose-600 dark:text-gray-400 dark:hover:bg-rose-600 dark:hover:text-white disabled:bg-gray-200"
          (click)="nextPage()" [disabled]="!orderPageable.has_next_page">
          Next
        </button>
      </div>
    </div>
  </ng-container>
</main>
